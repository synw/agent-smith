# Commands

A custom command is a [Commander.js](https://github.com/tj/commander.js) command. It is used to run multiple steps pipelines
that require user interactivity or custom options. Example: `mycommand.js` in a `cmds` directory in a registered feature directory:

```js
import select from '@inquirer/select';
import { 
    execute, executeTask, writeToClipboard, init
} from "@agent-smith/cli";

const choices = [
    {
        name: 'Commit',
        value: 'commit',
        description: 'Run the commit command with this message',
    },
    {
        name: 'Copy',
        value: 'copy',
        description: 'Copy the commit message to the clipboard',
    },
    {
        name: 'Cancel',
        value: 'cancel',
        description: 'Cancel the commit',
    },
];

async function run(args, options) {
    await init();
    if (options?.verbose) {
        console.log("Generating a commit message ...");
    }   
    const res = await executeTask("git_commit", args, options);
     const answer = await select({
        message: 'Select an action',
        default: "commit",
        choices: choices,
    });
    switch (answer) {
        case "copy":
            writeToClipboard(final)
            break;
        case "commit":
            console.log("git commit -m", res.answer.text);
            const res2 = await execute("git", ["commit", ...args, "-m", res.answer.text]);
            console.log(res2);
            break;
        default:
            console.log("Commit canceled");
            break;
    }
}

const cmd = {
    name: "commit [args...]",
    description: "Commit cmd",
    options: [
        "all",
        ["--pkg <name>", "commit for a given package"],
        ["--msg <name>", "the first line commit message"],
        ["--instructions <prompt>", "additionl optional instructions"]
    ],
    run: run
};

export { cmd };
```

Options are either an array at the Commander Option format or a string for a predefined
options set. Predefined options sets:

- *all*: all options
- *inference*: inference options
- *display*: debug and verbose options
- *io*: input and output option


<a href="javascript:openLink('/terminal_client/agents/overview')">Next: Agents</a>

