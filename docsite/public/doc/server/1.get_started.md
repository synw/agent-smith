# Server

A server to run Agent-Smith's cli commands remotely

## Install

Clone the repository and build:

```bash
go build
```

## Configuration

First generate a config file:

```bash
./server -conf
```

This will create a `./server.config.yml` file with a random api key and allowed
cors origins:

```yaml
api_key: "30f224ea6b45bf61356b8eb0bd84d2011f6f85dec6d49716c686cff66510ecga"
origins:
    - http://localhost:5173
    - http://localhost:5143
    - http://localhost:4321
```

The general api key will allow the user to run every Agent Smith command. See
next section for limited group based authorizations.

## Group based authorizations

To create groups with limited authorizations add to config file:

```yaml
groups:
    30f224ea6b45af61356b8eb0bd84d2011f6f85dec6d49716c686cff66510efbb:
        - command1
        - command2
    30f224ea6b45af61356b8eb0bd84d2011f6f85dec6d49716c686cff66510efbc:
        - command1
```

Each group has it's own api key and list of authorized commands. To create api keys
you can use the builtin utility to generate random key:

```bash
./server -key
```

<a href="javascript:openLink('/server/endpoints')">Next: endpoints</a>