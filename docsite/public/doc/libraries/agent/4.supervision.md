# Supervised agent

It is possible to define an authorization function to check if the model can call a tool. Example: ask
the user before calling a tool: create a `canExecuteTool` function

```ts
import { createInterface } from 'readline/promises';
import { stdin as input, stdout as output } from 'process';
import type { ToolSpec } from "@locallm/types";

const rl = createInterface({
    input,
    output
});

async function askUser(question: string) {
    const answer = await rl.question(question);
    return answer.toLowerCase() === 'y' || answer.toLowerCase() === 'yes';
}

async function canExecuteTool(tool: ToolSpec): Promise<boolean> {
    const argsNames = Object.keys(tool.arguments);
    const msg = `Execute tool ${tool.name} with arguments ${argsNames.join(", ")}`;
    return await askUser(msg + ' (y/n): ');
}
```

Now declare the authorization function in the tool definition:

```js
const weatherToolDef = {
    "name": "get_current_weather",
    "description": "Get the current weather",
    "arguments": {
        "location": {
            "description": "The city and state, e.g. San Francisco, CA"
        }
    },
    "execute": get_current_weather,
    "canRun": canExecuteTool,
};
```

When the model wants to call this tool it has to be authorized by the user.